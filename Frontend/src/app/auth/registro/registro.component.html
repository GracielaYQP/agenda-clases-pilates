<div *ngIf="invitacionValida; else noInvitacion">
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="registro-wrapper">
      <div id="registro_alumnos" class="singin-container">
        <p class="titulo-registro">REGISTRO</p>

        <p><strong>Email invitación:</strong> {{ email }}</p>
        <p><strong>Nivel asignado:</strong> {{ nivel }}</p>

        <div class="form-group">
          <label for="dni">DNI:</label>
          <input type="text" id="dni" formControlName="dni" />
          @if (Dni?.errors && Dni?.touched) {
            @if (Dni?.hasError('required')) {
              <p class="text-danger">El DNI es requerido.</p>
            } @else if (Dni?.hasError('pattern')) {
              <p class="text-danger">Debe tener entre 7 a 8 caracteres numéricos.</p>
            }
          }
        </div>

        <div class="form-group">
          <label for="first_name">Nombre:</label>
          <input type="text" id="first_name" formControlName="nombre" />
          @if (Nombre?.errors && Nombre?.touched) {
            @if (Nombre?.hasError('required')) {
              <p class="text-danger">El Nombre es requerido.</p>
            } @else if (Nombre?.hasError('pattern')) {
              <p class="text-danger">Debe tener al menos 3 caracteres y no debe contener números.</p>
            }
          }
        </div>

        <div class="form-group">
          <label for="last_name">Apellido:</label>
          <input type="text" id="last_name" formControlName="apellido" />
          @if (Apellido?.errors && Apellido?.touched) {
            @if (Apellido?.hasError('required')) {
              <p class="text-danger">El Apellido es requerido.</p>
            } @else if (Apellido?.hasError('pattern')) {
              <p class="text-danger">Debe tener al menos 3 caracteres y no debe contener números.</p>
            }
          }
        </div>

        <div class="form-group">
          <label for="telefono">Teléfono:</label>
          <input type="text" id="telefono" formControlName="telefono" />
          @if (Telefono?.errors && Telefono?.touched) {
            @if (Telefono?.hasError('required')) {
              <p class="text-danger">El teléfono es requerido.</p>
            } @else if (Telefono?.hasError('pattern')) {
              <p class="text-danger">Debe tener entre 10 y 13 caracteres numéricos.</p>
            }
          }
        </div>

        <!-- Email se muestra solo como texto -->
        <div class="form-group">
          <label>Email:</label>
          <p><strong>{{ email }}</strong></p>
        </div>

        <!-- Nivel se muestra solo como texto -->
        <div class="form-group">
          <label>Nivel asignado:</label>
          <p><strong>{{ nivel }}</strong></p>
        </div>

        <div class="form-group">
          <label for="password">Contraseña:</label>
          <input type="password" id="password" formControlName="password" />
          @if (Password?.errors && Password?.touched) {
            @if (Password?.hasError('required')) {
              <p class="text-danger">La contraseña es requerida.</p>
            } @else if (Password?.hasError('pattern')) {
              <p class="text-danger">Debe tener entre 6 a 15 caracteres, al menos una letra mayúscula, un número y un símbolo.</p>
            }
          }
        </div>

        <div class="form-group center-button">
          <button type="submit" class="btn-singin">Registrarse</button>
        </div>

      </div>

      <div *ngIf="successMessage" class="alert-success text-center">
        {{ successMessage }}
      </div>

      <div *ngIf="error" class="text-danger text-center">
        {{ error }}
      </div>
    </div>
  </form>
</div>

<ng-template #noInvitacion>
  <div class="no-invitacion-container">
    <p class="no-invitacion-text">
      Invitación inválida o no proporcionada.<br>
      No tienes una cuenta? Debido a que este estudio trabaja de forma personalizada, solo permite la creación de nuevas cuentas a través de un link de invitación. Por favor contactá a la instructora por alguno  de los medios disponibles.
    </p>
  </div>
</ng-template>

